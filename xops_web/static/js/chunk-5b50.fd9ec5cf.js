(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5b50","chunk-46c8","chunk-d767","chunk-6c81","chunk-f405"],{"/c3Y":function(e,t,a){"use strict";var s=a("bVzo");a.n(s).a},"3ADX":function(e,t,a){"use strict";var s=a("14Xm"),i=a.n(s),n=a("4d7F"),r=a.n(n),o=a("D3Ub"),l=a.n(o),c=a("t3Un");function u(e,t,a){return Object(c.a)({url:e,method:"get",params:t,isMock:a})}var d=a("LvDl"),p=a.n(d);t.a={data:function(){return{loading:!0,rawData:[],data:[],page:1,size:10,total:0,url:"",params:{},query:{},time:170}},methods:{init:p.a.throttle(function(){var e=l()(i.a.mark(function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeInit();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",new r.a(function(e,s){t.loading=!0,u(t.url,t.params,a).then(function(a){t.total=a.count,t.rawData=a.results,t.data=t.afterInit?t.afterInit(a.results):t.rawData,setTimeout(function(){t.loading=!1},t.time),e(a)}).catch(function(e){t.loading=!1,s(e)})}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),1e3),beforeInit:function(){return!0},pageChange:function(e){this.page=e,this.init()},sizeChange:function(e){this.page=1,this.size=e,this.init()}}}},"4t+H":function(e,t,a){"use strict";a.r(t);var s=a("PL5b"),i=a("g8L3"),n={name:"step_file_preview",props:{file:{type:Object,required:!0}},components:{image_preview:s.a,rte_preview:i.a},data:function(){return{}},watch:{file:{deep:!0,handler:function(){}}},methods:{handleDownload:function(){}},created:function(){}},r=(a("aJMq"),a("KHd+")),o=Object(r.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"step-file-preview"},[a("el-button",{staticClass:"download",attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.handleDownload(t)}}},[1===e.file.type?a("a",{attrs:{target:"_blank",href:e.file.path,download:e.file.name}},[e._v("下载\n    ")]):e._e()]),e._v(" "),a("div",[1===e.file.type?a("image_preview",{attrs:{src:e.file.path}}):a("rte_preview",{attrs:{content:e.file.content}})],1)],1)},[],!1,null,"0fa7e686",null);o.options.__file="file_preview.vue";t.default=o.exports},"57ZV":function(e,t,a){},"6bXL":function(e,t,a){"use strict";var s=a("yhRw");a.n(s).a},"7pTL":function(e,t,a){"use strict";a.r(t);var s=a("F9iD"),i=a("wd/R"),n=a.n(i),r={name:"reject_reason",props:{row:{type:Object,required:!0},reason_type:{type:Object,required:!0}},data:function(){return{title:"",reasons:[]}},methods:{getRejectReason:function(){var e=this,t={link_id:this.row.id,type_id:this.reason_type.id};Object(s.b)(t).then(function(t){e.reasons=t?e.formatData(t):[]}).catch(function(e){console.log(e)})},formatData:function(e){return e&&e.length>0&&e.forEach(function(e){e.reason=e.reason||"",e.add_time=e.add_time?n()(e.add_time).format("YYYY-MM-DD hh:mm"):"",e.transfer_nums=e.transfer_nums||"",e.sender_name=e.sender?e.sender.name:""}),e}}},o=(a("pYNO"),a("KHd+")),l=Object(o.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{title:e.reason_type.text,width:"600",placement:"top",trigger:"hover"},on:{show:function(t){e.getRejectReason(e.row)}}},[a("el-table",{attrs:{data:e.reasons}},[a("el-table-column",{attrs:{label:"时间",prop:"add_time",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"次数",prop:"transfer_nums",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"原因",prop:"reason","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"发送者",prop:"sender_name",width:"120","show-overflow-tooltip":!0}})],1),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._t("footer")],2)],1)},[],!1,null,"644c2187",null);l.options.__file="reject_reason.vue";t.default=l.exports},A1Yv:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o});var s=a("t3Un");function i(e){return Object(s.a)({url:"api/v1/task_design_types/",method:"get",params:e})}function n(e){return Object(s.a)({url:"task/design_type/",method:"post",data:e})}function r(e){return Object(s.a)({url:"task/design_type/"+e+"/",method:"delete"})}function o(e,t){return Object(s.a)({url:"task/design_type/"+e+"/",method:"put",data:t})}},F9iD:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n});var s=a("t3Un");function i(){return Object(s.a)({url:"api/v1/reason_types",method:"get"})}function n(e){return Object(s.a)({url:"api/v1/reasons",method:"get",params:e})}},RR98:function(e,t,a){},Stiw:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o});var s=a("t3Un");function i(){return Object(s.a)({url:"api/v1/task_assessments/",method:"get"})}function n(e){return Object(s.a)({url:"api/task/assessment/",method:"post",data:e})}function r(e){return Object(s.a)({url:"api/task/assessment/"+e+"/",method:"delete"})}function o(e,t){return Object(s.a)({url:"api/task/assessment/"+e+"/",method:"put",data:t})}},V0yE:function(e,t,a){"use strict";a.r(t);var s={components:{eForm:a("+AWp").default},props:{data:{type:Object,required:!0},sup_this:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{project_id:""}},methods:{to:function(){var e=this.$refs.form;e.form={id:this.data.id,name:this.data.name,type:this.data.task_type?this.data.task_type.id:"",priority:this.data.task_priority?this.data.task_priority.id:"",quality:this.data.task_quality?this.data.task_quality.id:"",points:this.data.points,period:[this.data.begin_time,this.data.end_time],receiver_id:this.data.receiver?this.data.receiver.id:"",receiver_name:this.data.receiver?this.data.receiver.name:"",files:this.data.files,content:this.data.content,memo:this.data.memo,project_id:this.data.project?this.data.project.id:""},e.dialog=!0,this.project_id=this.data.project?this.data.project.id:""}}},i=(a("zdMb"),a("KHd+")),n=Object(i.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{disabled:e.disabled,size:"mini",type:"success"},on:{click:function(t){return t.stopPropagation(),e.to(t)}}},[e._v("编辑\n  ")]),e._v(" "),a("eForm",{ref:"form",attrs:{sup_this:e.sup_this,"is-add":!1,project_id:e.project_id}})],1)},[],!1,null,"7301acc4",null);n.options.__file="edit.vue";t.default=n.exports},VmOs:function(e,t,a){"use strict";a.r(t);var s=a("4t+H"),i=a("PL5b"),n=a("g8L3"),r={name:"step_file_table",components:{image_preview:i.a,rte_preview:n.a,file_preview:s.default},props:{files:{type:Array,default:function(){return[]}}},data:function(){return{expands:[],src:"",type:"",content:"",file:""}},methods:{handlePreview:function(e){var t=window.open("","预览","width=500, height=300");1===e.type?t.document.write('<img src="'+e.path+'" alt=""/>'):0===e.type&&t.document.write(e.content)},getRowKeys:function(e){return e.name+e.id},handleExpandChange:function(e,t){var a=this;t.length>1&&this.files.forEach(function(t){t.id!==e.id&&a.$refs.tables.toggleRowExpansion(t,!1)})},handleRowClick:function(e,t,a){this.$refs.tables.toggleRowExpansion(e)}}},o=(a("zD9V"),a("KHd+")),l=Object(o.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"tables",staticStyle:{width:"100%"},attrs:{data:e.files,border:"","highlight-current-row":"",size:"small",fit:"","expand-row-keys":e.expands,"row-key":e.getRowKeys},on:{"expand-change":e.handleExpandChange,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",[a("file_preview",{attrs:{file:e.row}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"文件名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_name",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"add_time",label:"提交时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){a.stopPropagation(),e.handlePreview(t.row)}}},[e._v("预览")])]}}])})],1)],1)},[],!1,null,"44646d6b",null);l.options.__file="file_table.vue";t.default=l.exports},VnJJ:function(e,t,a){"use strict";a.r(t);var s=a("QbLZ"),i=a.n(s),n=a("41Be"),r=a("3ADX"),o=a("yUYn"),l=a("Stiw"),c=a("7Qib"),u=a("afCY"),d=a("V0yE"),p=a("A1Yv"),_=a("twU4"),h=a("F9iD"),f=a("gDS+"),m=a.n(f);var k=a("7pTL"),b=a("dRHU"),v=a("wd/R"),g=a.n(v),y={components:{eHeader:u.default,edit:d.default,reject_reason:k.default,file_ref_log:b.default},mixins:[r.a],data:function(){return{selected_task_ids:[],project:null,task_id:"",logs:[],value:"",taskAssessments:[],options:[],reasonType:[],reasonTypeMap:null,dialogTaskCheckPassVisible:!1,dialogTaskCheckRejectVisible:!1,taskCheckRejectReason:"",isCheckSubmitVisible:!1,taskStatusMap:null,activeName:"all",expands:[],taskRejectReason:"",designType:"",designTypes:[],dialogFileVisible:!1,dialogTaskAcceptVisible:!1,dialogTaskRejectVisible:!1,dialogTaskTransferVisible:!1,dialogTableVisible:!1,fileData:[],Loading:!1,publishStatus:[{value:"未发布",text:"未发布"},{value:"已发布",text:"已发布"}],taskStatus:[{value:"未安排任务负责人",text:"未安排任务负责人"},{value:"已安排任务负责人",text:"已安排任务负责人"},{value:"等待接手",text:"等待接手"},{value:"已接手",text:"已接手"},{value:"已完成",text:"已完成"},{value:"已拒接",text:"已拒接"}],auditStatus:[{value:"未审核",text:"未审核"},{value:"审核中",text:"审核中"},{value:"已审核",text:"已审核"},{value:"已驳回",text:"已驳回"}],taskPriority:[{text:"特急",value:"特急"},{text:"紧急",value:"紧急"},{text:"急",value:"急"},{text:"普通",value:"普通"}],taskType:[{text:"角色原画",value:"角色原画"},{text:"场景原画",value:"场景原画"},{text:"3D模型",value:"3D模型"},{text:"动作(2D3D)",value:"动作(2D3D)"},{text:"特效(2D3D)",value:"特效(2D3D)"},{text:"修图",value:"修图"},{text:"视频剪辑",value:"视频剪辑"},{text:"UI",value:"UI"},{text:"平面设计",value:"平面设计"}],delLoading:!1,sup_this:this,tasks:[],project_id:"",managers:[],transfer_form:{manager:""},transfer_rules:{manager:[{required:!0,message:"请选择任务负责人",trigger:"blur"}]},TaskCheckPassForm:{task_assessment:"",remark:""},TaskCheckPassFormRules:{task_assessment:[{required:!0,message:"请为该任务作为评价",trigger:"blur"}]}}},created:function(){var e=this;this.project=this.$store.state.project.project,this.initTask(),this.$nextTick(function(){e.$route.query.id&&(e.project_id=parseInt(e.$route.query.id||""),e.query.project=e.project_id),e.size=10,e.activeName?e.getData(e.activeName):e.init()})},methods:{initTask:function(){this.getReasonTypes(),this.getTaskAssessments(),this.initStatus(),this.setDefaultActiveTab()},isVisibleTaskName:function(){return!0},isVisibleTaskManager:function(){return!0},isVisibleTaskAuditor:function(){return!0},isVisibleTaskType:function(){return!0},isVisibleTaskContent:function(){return!0},isVisibleTaskMemo:function(){return!0},isVisibleTaskProgress:function(){return!0},isVisibleTaskDuration:function(){return!0},isVisibleTaskStatus:function(){return!0},isVisibleTaskQuality:function(){return!0},isVisibleTaskAssessment:function(){return!0},isVisibleTaskPoint:function(){return!0},isVisibleTaskPriority:function(){return!0},isVisibleTaskAddTime:function(){return!0},isVisibleTaskModifyTime:function(){return!0},isVisibleTaskBeginTime:function(){return!0},isVisibleTaskEndTime:function(){return!0},isVisibleTaskFinishTime:function(){return!0},isVisibleTaskPublishTime:function(){return!0},isVisibleTaskActiveStatus:function(){return!0},isVisibleTaskPublishStatus:function(){var e=!1;if(this.project&&(this.checkPermission(["admin","role_all","role_project_manager"])||this.checkPermission(["admin","role_all","role_project_auditor"])))switch(this.project.receive_status.key){case"accepted":case"finished":case"check_rejected":e=!0}return e},isVisibleTaskFinishStatus:function(){return!0},isDisableTaskEdit:function(e){var t=!0;if(this.project)switch(this.auditStatus[this.project.audit_status].key){case"wait_audit":case"rejected":t=!1;break;case"audited":switch(this.project.receive_status.key){case"unassigned":case"assigned":case"wait_accept":case"finished":case"check_rejected":t=!1;break;case"accepted":switch(e.receive_status.key){case"unassigned":case"assigned":case"wait_accept":case"accepted":case"check_rejected":t=!1}}}return t},isDisableTaskDelete:function(e){var t=!0;if(this.project)switch(this.auditStatus[this.project.audit_status].key){case"wait_audit":case"rejected":t=!1;break;case"audited":switch(this.project.receive_status.key){case"unassigned":case"assigned":case"wait_accept":case"finished":case"check_rejected":t=!1;break;case"accepted":switch(e.receive_status.key){case"unassigned":case"assigned":case"wait_accept":case"accepted":case"check_rejected":t=!1}}}return t},isDisableTaskCreate:function(e){var t=!0;if(this.project)switch(this.auditStatus[this.project.audit_status].key){case"wait_audit":case"audited":case"rejected":switch(this.project.receive_status.key){case"unassigned":case"assigned":case"accepted":case"finished":case"check_rejected":t=!1}}return t},isDisableTaskImport:function(e){var t=!0;if(this.project)switch(this.auditStatus[this.project.audit_status].key){case"wait_audit":case"audited":case"rejected":switch(this.project.receive_status.key){case"unassigned":case"assigned":case"wait_accept":case"accepted":case"finished":case"check_rejected":t=!1}}return t},isDisableTaskAssign:function(e){var t=!0;if(this.project)if("auditing"===this.auditStatus[this.project.audit_status].key);else switch(this.project.receive_status.key){case"unassigned":case"assigned":case"wait_accept":case"accepted":case"check_rejected":t=!1}return t},isDisableTaskPublish:function(e){var t=!0;if(this.project&&"audited"===this.auditStatus[this.project.audit_status].key)switch(this.project.receive_status.key){case"accepted":case"finished":case"check_rejected":t=!1}return t},isDisableTaskAccept:function(e){console.log(e);var t=!0;return e&&e.receive_status&&e.superior.id!==this.$store.state.user.id&&"wait_accept"===e.receive_status.key&&(t=!1),t},isDisableTaskReject:function(e){var t=!0;return e&&e.receive_status&&e.superior.id!==this.$store.state.user.id&&"wait_accept"===e.receive_status.key&&(t=!1),t},isDisableTaskTransfer:function(e){var t=!0;if(e&&e.receive_status)switch(e.receive_status.key){case"wait_accept":case"accepted":case"finished":case"check_rejected":t=!1}return t},isDisableTaskCheckSubmit:function(e){var t=!0;if(e&&e.receive_status)switch(e.receive_status.key){case"finished":case"check_rejected":t=!1}return t},isDisableTaskCheckPass:function(e){var t=!0;return e&&e.receive_status&&"wait_check"===e.receive_status.key&&(t=!1),t},isDisableTaskCheckReject:function(e){var t=!0;return e&&e.receive_status&&"wait_check"===e.receive_status.key&&(t=!1),t},initStatus:function(){this.getTaskStatus(),this.getAuditStatus()},getTaskStatus:function(){var e=this;Object(o.f)().then(function(t){t&&t.length>0?(e.taskStatus=t,e.taskStatusMap=e.arrayToMap(t,"key"),e.taskStatus.forEach(function(e){e.value=e.text})):e.taskStatus=[]}).catch(function(e){console.log(e)})},arrayToMap:function(e,t){if(e&&e.length>0){var a={};return e.map(function(e,s){t?a[e[t]]=e:a[e[s]]=e}),a}},getAuditStatus:function(){var e=this;Object(_.e)("ART_AUDIT_STATUS").then(function(t){t&&t.length>0&&(e.auditStatus=t[0].ART_AUDIT_STATUS,e.auditStatus&&e.auditStatus.length>0?e.auditStatus.forEach(function(e){e.text=e.value}):e.auditStatus=[])}).catch(function(e){console.log(e)})},getReasonTypes:function(){var e=this;Object(h.a)().then(function(t){e.reasonType=t||[],e.reasonTypeMap=e.arrayToMap(t,"key")}).catch(function(e){console.log(e)})},setDefaultActiveTab:function(){this.checkPermission(["admin","role_all","role_project_manager"])?this.activeName="all":(this.checkPermission(["admin","role_all","role_task_manager"]),this.activeName="all")},handleTabClick:function(e,t){this.activeName=e.name,delete this.query.receive_status,delete this.query.audit_status,this.getData(this.activeName)},getData:function(e){"all"===e||("arranged_by_me"===e?this.query.superior=this.$store.state.user.id:"wait_publish"===e?this.query.is_published=0:"published"===e?this.query.is_published=1:this.taskStatusMap&&this.taskStatusMap[e]&&(this.query.receive_status=this.taskStatusMap[e].id)),this.init()},parseTime:c.b,checkPermission:n.a,beforeInit:function(){this.selected_task_ids=[],this.url="api/v1/tasks/";var e=this.query,t=e.value;return this.params=i()({page:this.page,size:this.size,ordering:"id"},e),t&&(this.params.search=t),!0},afterInit:function(e){return this.formatData(e)},subDelete:function(e){var t=this;this.delLoading=!0,Object(o.b)(e).then(function(a){t.delLoading=!1,t.$refs[e].doClose(),t.init(),t.$message({showClose:!0,type:"success",message:"删除成功!",duration:2500})}).catch(function(a){t.delLoading=!1,t.$refs[e].doClose(),console.log(a)})},filterHandler:function(e,t,a){return t[a.property]===e},formatData:function(e){return e&&e.length>0&&e.forEach(function(e){e.name=e.name||"",e.project_name=e.project?e.project.name:"",e.type=e.task_type?e.task_type.name:"",e.design_type=e.design_type?e.design_type.name:"",e.priority=e.task_priority?e.task_priority.name:"",e.quality=e.task_quality?e.task_quality.name:"",e.begin_time=e.begin_time?g()(e.begin_time).format("YYYY-MM-DD"):"",e.end_time=e.end_time?g()(e.end_time).format("YYYY-MM-DD"):"",e.finish_time=e.finish_time?g()(e.finish_time).format("YYYY-MM-DD"):"",e.finish_time?(e.delta_time=g()(e.end_time).diff(g()(e.finish_time),"days"),e.delta_time>0?e.lead_time=Math.abs(e.delta_time):e.delay_time=Math.abs(e.delta_time)):(e.delta_time=g()(e.end_time).diff(g()(),"days"),e.delta_time<0&&(e.delay_time=Math.abs(e.delta_time))),e.duration=Math.abs(new Date(e.end_time)-new Date(e.begin_time))/864e5+1,e.progress=(e.progress||0)+"%",e.task_status_text=e.receive_status?e.receive_status.text:"",e.publish_status=0===e.is_published?"未发布":"已发布",e.assessment=e.assessment?e.assessment.name:"",e.comments=e.comments||"",e.memo=e.memo||"",e.content=e.content||"",e.points=e.points||0,e.project_manager=e.sender?e.sender.name:"",e.task_manager=e.receiver?e.receiver.name:"",e.task_superior=e.superior?e.superior.name:"",e.files=e.files||[],e.files.length&&e.files.forEach(function(e){e.name=e.file_name||"",e.create_time=e.file_date||"",e.url=e.file_url||""})}),e},open:function(e,t,a,s){var i=this;if(1===a)this.dialogFileVisible=!0,this.fileData=e;else if(2===a){this.dialogTaskAcceptVisible=!0;var n={task_type_id:s.row.task_type.id};Object(p.d)(n).then(function(e){i.designTypes=e,i.designTypes.length&&(i.designType=i.designTypes[0].name),i.task_id=s.row.id})}else 3===a?(this.dialogTaskRejectVisible=!0,this.task_id=s.row.id):4===a?(this.getAllTaskManagers(),this.dialogTaskTransferVisible=!0,this.task_id=s.row.id):"content"===a?this.handlePreview(e):"check_reject"===a?(this.dialogTaskCheckRejectVisible=!0,this.task_id=s.row.id):"check_pass"===a?(this.dialogTaskCheckPassVisible=!0,this.task_id=s.row.id):"ref_files"===a?(this.getTaskRefFileLog(s.row.id),this.dialogFileVisible=!0):this.$confirm(e,t+"详情",{distinguishCancelAndClose:!0})},handlePreview:function(e){var t=window.open("","预览","width=500, height=300");e&&t.document.write(e)},handleDownload:function(e,t){},handleTaskAccept:function(e){var t=this;e===this.designTypes[0].name&&(this.designType=this.designTypes[0].id);var a={task_id:this.task_id,task_design_type_id:this.designType};Object(o.g)(a).then(function(e){t.$message.success("接手成功"),t.dialogTaskAcceptVisible=!1,"all"!==t.activeName&&(t.query.receive_status=t.taskStatusMap[t.activeName].id),t.init()})},handleTaskReject:function(){var e=this,t={task_id:this.task_id,reason:this.taskRejectReason};Object(o.n)(t).then(function(){e.$message.success("已拒绝该任务"),e.dialogTaskRejectVisible=!1,e.taskRejectReason="",e.init()})},handleTaskCheckSubmit:function(e){var t=this,a={task_id:e};Object(o.k)(a).then(function(e){200===e.code&&(t.$message.success("任务验收提交成功！"),t.init())})},handleTaskCheckPass:function(){var e=this;this.$refs.taskCheckPassForm.validate(function(t){if(!t)return!1;var a={task_id:e.task_id,task_assessment_id:e.TaskCheckPassForm.task_assessment,comments:e.TaskCheckPassForm.remark||""};Object(o.i)(a).then(function(t){200===t.code&&(e.$message.success("已成功验收该任务！"),e.init(),e.dialogTaskCheckPassVisible=!1)}).catch(function(e){console.log(e)})})},handleTaskCheckReject:function(){var e=this,t={task_id:this.task_id,reason:this.taskCheckRejectReason};Object(o.j)(t).then(function(t){200===t.code&&(e.$message.success("已拒绝验收该任务"),e.dialogTaskCheckRejectVisible=!1,e.taskCheckRejectReason="",e.init())})},getAllTaskManagers:function(){var e=this;Object(o.d)().then(function(t){e.managers=t.detail,e.managers.length>0&&e.managers.forEach(function(e){e.name=e.name||"",e.task_type=e.task_type||"",e.task_name=e.task_name||"",e.progress=(e.task_progress||0)+"%",e.end_time=e.end_time||"",e.left_days=e.leftdays>=0?e.leftdays:"已延期"+-e.leftdays+"天",e.task_status=e.receive_status||""})})},cancel:function(){this.resetForm(),this.dialogTaskTransferVisible=!1},handleTaskTransfer:function(){var e=this;this.$refs.transfer_form.validate(function(t){if(!t)return!1;e.loading=!0,e.transfer_form.task_ids=[e.task_id],e.transfer_form.receiver_id=e.transfer_form.manager_id,Object(o.h)(e.transfer_form).then(function(){e.loading=!1,e.dialogTaskTransferVisible=!1,e.resetForm(),e.init()})})},resetForm:function(){this.dialog=!1,this.$refs.transfer_form.resetFields(),this.transfer_form={}},selectTaskReceiver:function(e){e&&(this.transfer_form.manager=e.name,this.transfer_form.manager_id=e.user_id,this.dialogTableVisible=!1)},toStep:function(e,t,a){this.$router.push({path:"/art_business/art_task/detail",query:{id:e.id}}),this.$store.dispatch("setTask",e),function(e,t){t instanceof Object&&sessionStorage.setItem(e,m()(t))}("task",e)},getRowKeys:function(e){return e.id},handleExpandChange:function(e,t){var a=this;t.length>1&&this.data.forEach(function(t){t.id!==e.id&&a.$refs.tables.toggleRowExpansion(t,!1)})},handleRowClick:function(e,t,a){this.$refs.tables.toggleRowExpansion(e)},tableRowClassName:function(e){var t=e.row,a=(e.rowIndex,"");switch(t.receive_status.key){case"rejected":case"check_rejected":a="warning-row";break;case"checked":a="success-row"}return a},getTaskAssessments:function(){var e=this;Object(l.d)().then(function(t){e.taskAssessments=t&&t||[]}).catch(function(e){console.log(e)})},getTaskRefFileLog:function(e){var t=this,a={task_id:e};Object(o.e)(a).then(function(e){e&&200===e.code&&e.detail?t.logs=t.formatTaskRefFileLogData(e.detail)||[]:t.logs=[]}).catch(function(e){console.log(e)})},formatTaskRefFileLogData:function(e){return e&&e.length>0&&e.forEach(function(e){e.add_time=e.add_time?g()(e.add_time).format("YYYY-MM-DD hh:mm:ss"):"",e.files&&e.files.length>0&&e.files.forEach(function(t){t.path=t.path?"http://192.168.239.129"+t.path:t.path,e.content=e.content||"",t.type_name=1===t.type?"富文本":"图片",t.add_time=t.add_time?g()(t.add_time).format("YYYY-MM-DD hh:mm:ss"):"",t.name=t.name||"-"})}),e},handleSelectionChange:function(e){e&&e.length>0&&(this.selected_task_ids=e.map(function(e){return e.id}))}}},w=(a("e1tj"),a("6bXL"),a("KHd+")),T=Object(w.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("eHeader",{staticStyle:{clear:"both"},attrs:{tasks:e.tasks,query:e.query,project_id:e.project_id,isDisableTaskCreate:e.isDisableTaskCreate(e.project),isDisableTaskPublish:e.isDisableTaskPublish(e.project),isDisableTaskImport:e.isDisableTaskImport(e.project),isDisableTaskAssign:e.isDisableTaskAssign(e.project),selected_task_ids:e.selected_task_ids,sup_this:e.sup_this}}),e._v(" "),a("el-container",{staticStyle:{clear:"both"}},[e.checkPermission(["role_all","role_project_auditor"])?e._e():a("el-aside",{attrs:{width:"90px"}},[e.checkPermission(["admin","role_all","role_project_manager"])?a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"所有",name:"all"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"finished"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已拒接",name:"accept_rejected"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"待验收",name:"wait_check"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已验收",name:"checked"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"不通过",name:"check_rejected"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"未发布",name:"wait_publish"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已发布",name:"published"}})],1):e.checkPermission(["admin","role_all","role_task_manager"])?a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"所有",name:"all"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"我安排的",name:"arranged_by_me"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"待接",name:"wait_accept"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已接",name:"accepted"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已拒接",name:"accept_rejected"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"finished"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"待验收",name:"wait_check"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已验收",name:"checked"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"不通过",name:"check_rejected"}})],1):e.checkPermission(["admin","role_all","role_business_manager"])?a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"所有",name:"all"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已完成",name:"finished"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"已验收",name:"checked"}})],1):e._e()],1),e._v(" "),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tables",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",size:"small",fit:"","row-class-name":e.tableRowClassName,data:e.data,"expand-row-keys":e.expands,"row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange,"expand-change":e.handleExpandChange,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"table-expand task-detail",attrs:{size:"mini"}},[a("div",{staticClass:"task-detail-left"},[a("el-form-item",{attrs:{label:"任务名称："}},[a("span",[e._v(e._s(t.row.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"所属项目："}},[a("span",[e._v(e._s(t.row.project_name))])]),e._v(" "),a("el-form-item",{attrs:{label:"类型："}},[a("span",[e._v(e._s(t.row.type))])]),e._v(" "),a("el-form-item",{attrs:{label:"设计方式："}},[a("span",[e._v(e._s(t.row.design_type))])]),e._v(" "),a("el-form-item",{attrs:{label:"优先级："}},[a("span",[e._v(e._s(t.row.priority))])]),e._v(" "),a("el-form-item",{attrs:{label:"品质要求："}},[a("span",[e._v(e._s(t.row.quality))])]),e._v(" "),a("el-form-item",{attrs:{label:"任务负责人："}},[a("span",[e._v(e._s(t.row.task_manager))])])],1),e._v(" "),a("div",{staticClass:"task-detail-right"},[a("el-form-item",{attrs:{label:"时限（天）："}},[a("span",[e._v(e._s(t.row.duration))])]),e._v(" "),1===e.query.receive_status?a("el-form-item",{attrs:{label:"完成进度："}},[a("span",[e._v(e._s(t.row.progress))])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"开始时间："}},[a("span",[e._v(e._s(t.row.begin_time))])]),e._v(" "),a("el-form-item",{attrs:{label:"结束时间："}},[a("span",[e._v(e._s(t.row.end_time))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目负责人："}},[a("span",[e._v(e._s(t.row.project_manager))])]),e._v(" "),a("el-form-item",{attrs:{label:"任务状态："}},[a("span",[e._v(e._s(t.row.task_status_text))])]),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.open(t.row.memo,"备注")}}},[e._v("点击显示备注详情")])],1),e._v(" "),a("el-form-item",{attrs:{label:"参考文件："}},[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.open("参考文件","","ref_files",t)}}},[e._v("点击显示参考文件详情")])],1)],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"任务名称","show-overflow-tooltip":!0}}),e._v(" "),""===e.project_id?a("el-table-column",{attrs:{prop:"project_name",label:"所属项目","show-overflow-tooltip":!0}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"任务类型",filters:e.taskType,"filter-method":e.filterHandler,width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"priority",label:"优先级",filters:e.taskPriority,"filter-method":e.filterHandler,width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"quality",label:"品质要求",sortable:"",width:"93"}}),e._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始时间",sortable:"",width:"93"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"结束时间",sortable:"",width:"93"}}),e._v(" "),a("el-table-column",{attrs:{prop:"finish_time",label:"完成时间",sortable:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"duration",label:"时限（天）",sortable:"",width:"105"}}),e._v(" "),""===e.project_id?a("el-table-column",{attrs:{prop:"project_manager",label:"项目负责人",width:"90","show-overflow-tooltip":!0}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"task_superior",label:"上级主管",width:"90","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"task_manager",label:"任务负责人",width:"90","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"任务状态",width:"128",filters:e.taskStatus,"filter-method":e.filterHandler,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return["accepted"===t.row.receive_status.key?a("span",[e._v("\n              "+e._s(t.row.receive_status.text)+"\n              "),t.row.delay_time?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("过期"+e._s(t.row.delay_time)+"天")]):e._e()],1):"finished"===t.row.receive_status.key||"wait_check"===t.row.receive_status.key||"check_reject"===t.row.receive_status.key||"checked"===t.row.receive_status.key?a("span",[e._v("\n              "+e._s(t.row.receive_status.text)+"\n              "),t.row.lead_time?a("el-tag",{attrs:{size:"small",type:"success"}},[e._v("提前"+e._s(t.row.lead_time)+"天")]):t.row.delay_time?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v("过期"+e._s(t.row.delay_time)+"天")]):e._e()],1):"rejected"!==t.row.receive_status.key&&"check_rejected"!==t.row.receive_status.key?a("span",[e._v("\n              "+e._s(t.row.receive_status.text)+"\n            ")]):a("span",[a("reject_reason",{attrs:{row:t.row,reason_type:"rejected"===t.row.receive_status.key?e.reasonTypeMap.task_reject:e.reasonTypeMap.task_check_reject}},[a("span",{attrs:{slot:"footer"},slot:"footer"},[e._v("\n                  "+e._s(t.row.receive_status.text)+"\n                  "),a("i",{staticClass:"el-icon-info"})])])],1)]}}])}),e._v(" "),e.isVisibleTaskPublishStatus()?a("el-table-column",{attrs:{prop:"publish_status",label:"发布状态",width:"83",filters:e.publishStatus,"filter-method":e.filterHandler}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"progress",label:"完成进度",sortable:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":e.checkPermission(["role_all","role_project_auditor"])?100:380,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.checkPermission(["admin","task_all","task_edit"])?a("edit",{attrs:{disabled:e.isDisableTaskEdit(t.row),data:t.row,sup_this:e.sup_this}}):e._e(),e._v(" "),e.checkPermission(["admin","role_all","role_business_manager"])?e._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){a.stopPropagation(),e.toStep(t.row,t.column,t.$index)}}},[e._v("步骤\n            ")]),e._v(" "),e.checkPermission(["admin","task_all","task_accept"])?a("el-button",{attrs:{disabled:e.isDisableTaskAccept(t.row),size:"mini",type:"primary"},on:{click:function(a){a.stopPropagation(),e.open(0,"设计类型",2,t)}}},[e._v("接手\n            ")]):e._e(),e._v(" "),e.checkPermission(["admin","task_all","task_reject"])?a("el-button",{attrs:{disabled:e.isDisableTaskReject(t.row),size:"mini",type:"warning"},on:{click:function(a){a.stopPropagation(),e.open("任务拒接","",3,t)}}},[e._v("拒接\n            ")]):e._e(),e._v(" "),e.checkPermission(["admin","task_all","task_transfer"])?a("el-button",{attrs:{disabled:e.isDisableTaskTransfer(t.row),size:"mini",type:"primary"},on:{click:function(a){a.stopPropagation(),e.open("任务转派","",4,t)}}},[e._v("转派\n            ")]):e._e(),e._v(" "),e.checkPermission(["admin","task_all","task_check_submit"])?a("el-button",{attrs:{slot:"reference",disabled:e.isDisableTaskCheckSubmit(t.row),size:"mini",type:"success"},on:{click:function(a){a.stopPropagation(),e.handleTaskCheckSubmit(t.row.id)}},slot:"reference"},[e._v("提交验收\n            ")]):e._e(),e._v(" "),a("el-tooltip",{attrs:{placement:"top",effect:"light","popper-class":"btn-popper"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("el-button-group",[e.checkPermission(["admin","task_all","task_check_pass"])?a("el-button",{attrs:{disabled:e.isDisableTaskCheckPass(t.row),size:"mini",type:"success"},on:{click:function(a){a.stopPropagation(),e.open("任务验收通过","","check_pass",t)}}},[e._v("验收通过\n                  ")]):e._e(),e._v(" "),e.checkPermission(["admin","task_all","task_check_reject"])?a("el-button",{attrs:{disabled:e.isDisableTaskCheckReject(t.row),size:"mini",type:"warning"},on:{click:function(a){a.stopPropagation(),e.open("任务验收不通过","","check_reject",t)}}},[e._v("验收不通过\n                  ")]):e._e()],1)],1),e._v(" "),e.checkPermission(["admin","task_all","task_check"])?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){e.stopPropagation()}}},[e._v("验收\n              ")]):e._e()],1),e._v(" "),a("el-popover",{ref:t.row.id,attrs:{placement:"top",width:"180"}},[a("p",[e._v("确定删除本条数据吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{loading:e.Loading,type:"primary",size:"mini"},on:{click:function(a){e.subDelete(t.row.id)}}},[e._v("确定\n                ")])],1),e._v(" "),e.checkPermission(["admin","task_all","task_delete"])?a("el-button",{attrs:{slot:"reference",disabled:e.isDisableTaskDelete(t.row),type:"danger",size:"mini"},on:{click:function(e){e.stopPropagation()}},slot:"reference"},[e._v("删除\n              ")]):e._e()],1)]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"8px"},attrs:{total:e.total,"page-sizes":[10,20,30,50,100],layout:"total, prev, pager, next, sizes"},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"参考文件",width:"70%",visible:e.dialogFileVisible},on:{"update:visible":function(t){e.dialogFileVisible=t}}},[a("file_ref_log",{attrs:{logs:e.logs}})],1),e._v(" "),a("el-dialog",{attrs:{width:"450px",visible:e.dialogTaskAcceptVisible},on:{"update:visible":function(t){e.dialogTaskAcceptVisible=t}}},[e._v("\n    设计方式：\n    "),a("el-select",{attrs:{placeholder:"请选择",value:""},model:{value:e.designType,callback:function(t){e.designType=t},expression:"designType"}},e._l(e.designTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTaskAcceptVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleTaskAccept(e.designType)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务拒接",width:"450px",visible:e.dialogTaskRejectVisible},on:{"update:visible":function(t){e.dialogTaskRejectVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入拒接原因"},model:{value:e.taskRejectReason,callback:function(t){e.taskRejectReason=t},expression:"taskRejectReason"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTaskRejectVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleTaskReject()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"480px","append-to-body":!0,visible:e.dialogTaskTransferVisible,title:"任务转派"},on:{"update:visible":function(t){e.dialogTaskTransferVisible=t}}},[a("el-form",{ref:"transfer_form",attrs:{size:"small","label-width":"96px",model:e.transfer_form,rules:e.transfer_rules}},[a("el-form-item",{attrs:{label:"任务负责人",prop:"manager"}},[a("el-input",{staticStyle:{width:"338px"},attrs:{disabled:"",placeholder:"请选择任务负责人"},model:{value:e.transfer_form.manager,callback:function(t){e.$set(e.transfer_form,"manager",t)},expression:"transfer_form.manager"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(t){e.dialogTableVisible=!0}},slot:"append"},[e._v("...")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleTaskTransfer}},[e._v("确认")])],1),e._v(" "),a("el-dialog",{attrs:{width:"60%",visible:e.dialogTableVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{"highlight-current-row":"",data:e.managers},on:{"row-dblclick":e.selectTaskReceiver}},[a("el-table-column",{attrs:{property:"name",label:"姓名",width:"160","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{property:"task_type",label:"任务类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"task_name",label:"任务名称","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{property:"end_time",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{property:"left_days",label:"剩余天数"}}),e._v(" "),a("el-table-column",{attrs:{property:"progress",label:"进度"}}),e._v(" "),a("el-table-column",{attrs:{property:"task_status",label:"任务状态","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.selectTaskReceiver(t.row)}}},[e._v("选择\n            ")])]}}])})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务验收通过",width:"450px",visible:e.dialogTaskCheckPassVisible},on:{"update:visible":function(t){e.dialogTaskCheckPassVisible=t}}},[a("el-form",{ref:"taskCheckPassForm",attrs:{model:e.TaskCheckPassForm,rules:e.TaskCheckPassFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"评级",prop:"task_assessment"}},[a("el-select",{attrs:{placeholder:"请选择",value:""},model:{value:e.TaskCheckPassForm.task_assessment,callback:function(t){e.$set(e.TaskCheckPassForm,"task_assessment",t)},expression:"TaskCheckPassForm.task_assessment"}},e._l(e.taskAssessments,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"评语",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入你的评语"},model:{value:e.TaskCheckPassForm.remark,callback:function(t){e.$set(e.TaskCheckPassForm,"remark",t)},expression:"TaskCheckPassForm.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTaskCheckPassVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleTaskCheckPass()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"任务验收不通过",width:"450px",visible:e.dialogTaskCheckRejectVisible},on:{"update:visible":function(t){e.dialogTaskCheckRejectVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入验收不通过原因"},model:{value:e.taskCheckRejectReason,callback:function(t){e.taskCheckRejectReason=t},expression:"taskCheckRejectReason"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTaskCheckRejectVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleTaskCheckReject()}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,"b86680f0",null);T.options.__file="index.vue";t.default=T.exports},XK0V:function(e,t,a){},Z7zk:function(e,t,a){},aJMq:function(e,t,a){"use strict";var s=a("XK0V");a.n(s).a},bVzo:function(e,t,a){},c4Vh:function(e,t,a){},dRHU:function(e,t,a){"use strict";a.r(t);var s={name:"file_ref_log",components:{file_table:a("VmOs").default},props:{logs:{type:Array,required:!0}}},i=(a("/c3Y"),a("KHd+")),n=Object(i.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("el-timeline",{},this._l(this.logs,function(e,a){return t("el-timeline-item",{key:e.id,staticClass:"log-item",attrs:{timestamp:e.add_time,placement:"top",type:0===a?"primary":""}},[t("el-card",[t("file_table",{attrs:{files:e.files}})],1)],1)}))],1)},[],!1,null,"d5e920d0",null);n.options.__file="file_ref_log.vue";t.default=n.exports},e1tj:function(e,t,a){"use strict";var s=a("RR98");a.n(s).a},pYNO:function(e,t,a){"use strict";var s=a("c4Vh");a.n(s).a},twU4:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"e",function(){return l});var s=a("t3Un");function i(){return Object(s.a)({url:"api/dict/tree/",method:"get"})}function n(e){return Object(s.a)({url:"api/dicts/",method:"post",data:e})}function r(e){return Object(s.a)({url:"api/dicts/"+e+"/",method:"delete"})}function o(e,t){return Object(s.a)({url:"api/dicts/"+e+"/",method:"put",data:t})}function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object(s.a)({url:"api/dicts/?&key="+t,method:"get"})}},yhRw:function(e,t,a){},zD9V:function(e,t,a){"use strict";var s=a("57ZV");a.n(s).a},zdMb:function(e,t,a){"use strict";var s=a("Z7zk");a.n(s).a}}]);