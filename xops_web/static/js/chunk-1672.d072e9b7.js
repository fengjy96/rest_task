(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1672"],{"0oZp":function(t,e,r){"use strict";r.r(e);var o=r("l9Yl"),n={props:{project_id:{type:Number,required:!0}},data:function(){return{project_cost:[],project_fee_cost:[],grossProfit:0,costGrossProfit:0,costFeeGrossProfit:0}},watch:{project_id:function(){this.init()},costGrossProfit:function(){this.grossProfit=this.costGrossProfit+this.costFeeGrossProfit,this.$store.dispatch("setProjectGrossProfit",this.grossProfit)},costFeeGrossProfit:function(){this.grossProfit=this.costGrossProfit+this.costFeeGrossProfit,this.$store.dispatch("setProjectGrossProfit",this.grossProfit)}},created:function(){this.init()},methods:{init:function(){var t=this;this.$nextTick(function(){t.getProjectCost(),t.getProjectFeeCost()})},getProjectCost:function(){var t=this,e={project_id:this.project_id};Object(o.k)(e).then(function(e){e&&200===e.code&&e.detail?t.project_cost=t.formatCostData(e.detail)||[]:t.project_cost=[]}).catch(function(t){console.log(t)})},getProjectFeeCost:function(){var t=this,e={project_id:this.project_id};Object(o.l)(e).then(function(e){e&&200===e.code&&e.detail?t.project_fee_cost=t.formatFeeCostData(e.detail)||[]:t.project_fee_cost=[]}).catch(function(t){console.log(t)})},formatCostData:function(t){var e=this;return t&&t.length>0&&t.forEach(function(t){t.person_nums=t.person_nums||"",t.user=t.user||"",t.duration=t.duration||"",t.name=t.name||"",t.fee=t.fee||0,t.total_fee=t.total_fee||0,2===t.type&&(t.fee=t.name||"",t.name="",e.costGrossProfit=t.total_fee||0)}),t},formatFeeCostData:function(t){var e=this;return t&&t.length>0&&t.forEach(function(t){t.person_nums=t.person_nums||"",t.user=t.user||"",t.duration=t.duration||"",t.name=t.name||"",t.fee=t.fee||0,t.total_fee=t.total_fee||0,2===t.type&&(t.fee=t.name||"",t.name="",e.costFeeGrossProfit=t.total_fee||0)}),t}}},a=(r("hVlz"),r("KHd+")),c=Object(a.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cost-analysis"},[r("div",[r("h3",[t._v("项目人员工资成本表")]),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.project_cost}},[r("el-table-column",{attrs:{prop:"user",label:"姓名"}}),t._v(" "),r("el-table-column",{attrs:{prop:"person_nums",label:"人数"}}),t._v(" "),r("el-table-column",{attrs:{prop:"duration",label:"天数"}}),t._v(" "),r("el-table-column",{attrs:{prop:"fee",label:"平均工资（元）"}}),t._v(" "),r("el-table-column",{attrs:{prop:"total_fee",label:"成本（元）"}})],1)],1),t._v(" "),r("el-divider"),t._v(" "),r("div",[r("h3",[t._v("项目其它费用成本表")]),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.project_fee_cost}},[r("el-table-column",{attrs:{prop:"name",label:"费用名称"}}),t._v(" "),r("el-table-column",{attrs:{prop:"person_nums",label:"人数"}}),t._v(" "),r("el-table-column",{attrs:{prop:"duration",label:"天数"}}),t._v(" "),r("el-table-column",{attrs:{prop:"fee",label:"费用（元）"}}),t._v(" "),r("el-table-column",{attrs:{prop:"total_fee",label:"成本（元）"}})],1)],1)],1)},[],!1,null,"3c22068a",null);c.options.__file="index.vue";e.default=c.exports},Dzt8:function(t,e,r){},hVlz:function(t,e,r){"use strict";var o=r("Dzt8");r.n(o).a},l9Yl:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"e",function(){return a}),r.d(e,"g",function(){return c}),r.d(e,"n",function(){return i}),r.d(e,"j",function(){return u}),r.d(e,"s",function(){return s}),r.d(e,"r",function(){return p}),r.d(e,"q",function(){return f}),r.d(e,"p",function(){return l}),r.d(e,"v",function(){return d}),r.d(e,"u",function(){return j}),r.d(e,"t",function(){return h}),r.d(e,"w",function(){return m}),r.d(e,"m",function(){return _}),r.d(e,"f",function(){return b}),r.d(e,"i",function(){return v}),r.d(e,"b",function(){return O}),r.d(e,"k",function(){return P}),r.d(e,"l",function(){return g}),r.d(e,"d",function(){return G}),r.d(e,"c",function(){return k}),r.d(e,"h",function(){return w}),r.d(e,"o",function(){return y});var o=r("t3Un");function n(t){return Object(o.a)({url:"api/v1/art_projects/",method:"post",data:t})}function a(t){return Object(o.a)({url:"api/v1/art_projects/"+t+"/",method:"delete"})}function c(t,e){return Object(o.a)({url:"api/v1/art_projects/"+t+"/",method:"put",data:e})}function i(){return Object(o.a)({url:"api/v1/project/receivers",method:"get"})}function u(){return Object(o.a)({url:"api/v1/project/auditors",method:"get"})}function s(t){return Object(o.a)({url:"api/v1/project/audit/submit",method:"post",data:t})}function p(t){return Object(o.a)({url:"api/v1/project/audit/reject",method:"post",data:t})}function f(t){return Object(o.a)({url:"api/v1/project/audit/pass",method:"post",data:t})}function l(t){return Object(o.a)({url:"api/v1/project/accept",method:"post",data:t})}function d(t){return Object(o.a)({url:"api/v1/project/check/submit",method:"post",data:t})}function j(t){return Object(o.a)({url:"api/v1/project/check/reject",method:"post",data:t})}function h(t){return Object(o.a)({url:"api/v1/project/check/pass",method:"post",data:t})}function m(t){return Object(o.a)({url:"api/v1/project/reject",method:"post",data:t})}function _(t){return Object(o.a)({url:"/api/v1/project_fee",method:"get",params:t})}function b(t){return Object(o.a)({url:"/api/v1/project_fee/"+t+"/",method:"delete"})}function v(t,e){return Object(o.a)({url:"/api/v1/project_fee/"+t+"/",method:"put",data:e})}function O(t){return Object(o.a)({url:"/api/v1/project_fee/",method:"post",data:t})}function P(t){return Object(o.a)({url:"/api/v1/project/cost/analysis",method:"get",params:t})}function g(t){return Object(o.a)({url:"/api/v1/project/fee/cost/analysis",method:"get",params:t})}function G(t){return Object(o.a)({url:"api/v1/project/cost/analysis/finished",method:"post",data:t})}function k(t){return Object(o.a)({url:"api/v1/points/assignment",method:"post",data:t})}function w(t,e){return Object(o.a)({url:"/points/"+t+"/",method:"put",data:e,isMock:!0})}function y(){return Object(o.a)({url:"/api/v1/project_statuses",method:"get"})}}}]);