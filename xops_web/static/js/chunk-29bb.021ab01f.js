(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-29bb","chunk-4d81","chunk-5c9a"],{"30h1":function(e,t,a){"use strict";var l=a("Y+P3");a.n(l).a},"8KlD":function(e,t,a){"use strict";var l=a("NluS");a.n(l).a},ASsF:function(e,t,a){},NluS:function(e,t,a){},UmRJ:function(e,t,a){"use strict";a.r(t);var l=a("PL5b"),n=a("g8L3"),i={name:"step_file_feedback_preview",props:{file:{type:Object,required:!0}},components:{image_preview:l.a,rte_preview:n.a},data:function(){return{feedbacks:[]}},watch:{file:{deep:!0,handler:function(){}}},methods:{handleDownload:function(){}},created:function(){}},s=(a("30h1"),a("KHd+")),o=Object(s.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"step-file-preview"},[a("el-button",{staticClass:"download",attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.handleDownload(t)}}},[1===e.file.type?a("a",{attrs:{target:"_blank",href:e.file.path,download:e.file.name}},[e._v("下载\n    ")]):e._e()]),e._v(" "),a("div",[1===e.file.type?a("image_preview",{attrs:{src:e.file.path}}):a("rte_preview",{attrs:{content:e.file.content}})],1)],1)},[],!1,null,"60514e96",null);o.options.__file="step_file_feedback_preview.vue";t.default=o.exports},"Y+P3":function(e,t,a){},Zdsn:function(e,t,a){"use strict";var l=a("ASsF");a.n(l).a},m6M2:function(e,t,a){"use strict";a.r(t);var l={name:"step_file_feedback_log",components:{step_feedback_file_table:a("xtGO").default},props:{feedbacks:{type:Array,default:function(){return[]}}},data:function(){return{activeNames:["1","2"]}},methods:{handleChange:function(){}}},n=(a("8KlD"),a("KHd+")),i=Object(n.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block"},[a("div",{staticClass:"feedback-log"},[a("el-timeline",{staticClass:"feedback-timeline"},e._l(e.feedbacks,function(t,l){return a("el-timeline-item",{key:t.id,staticClass:"log-item",attrs:{timestamp:t.add_time,placement:"top",type:0===l?"primary":""}},[a("el-collapse",{on:{change:e.handleChange}},[a("el-card",[a("el-collapse",{staticClass:"outer-el-collapse",attrs:{accordion:""}},[a("el-collapse-item",{staticClass:"step-el-collapse-item"},[a("template",{staticClass:"log-item-detail",slot:"title"},[a("h4",[e._v(e._s(t.title)),a("i",{staticClass:"header-icon el-icon-info"})]),e._v(" "),a("p",{staticClass:"desc"},[e._v(" 提交于 "+e._s(t.add_time))])]),e._v(" "),a("el-collapse",{staticClass:"inter-el-collapse",on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"文件",name:"1"}},[a("step_feedback_file_table",{attrs:{files:t.files}})],1),e._v(" "),a("el-collapse-item",{attrs:{title:"备注",name:"2"}},[a("div",[e._v(e._s(t.memo))])])],1)],2)],1)],1)],1)],1)}))],1)])},[],!1,null,"309412ec",null);i.options.__file="step_file_feedback_log.vue";t.default=i.exports},xtGO:function(e,t,a){"use strict";a.r(t);var l=a("UmRJ"),n=a("KglX"),i=a("PL5b"),s=a("g8L3"),o={name:"step_feedback_file_table",components:{Feedback:n.a,image_preview:i.a,rte_preview:s.a,step_file_feedback_preview:l.default},props:{files:{type:Array,default:function(){return[]}}},data:function(){return{expands:[],src:"",type:"",content:"",file:""}},methods:{handlePreview:function(e){var t=window.open("","预览","width=500, height=300");1===e.type?t.document.write('<img src="'+e.path+'" alt=""/>'):0===e.type&&t.document.write(e.content)},getRowKeys:function(e){return e.name+e.id},handleExpandChange:function(e,t){var a=this;t.length>1&&this.files.forEach(function(t){t.id!==e.id&&a.$refs.tables.toggleRowExpansion(t,!1)})},handleRowClick:function(e,t,a){this.$refs.tables.toggleRowExpansion(e)}}},c=(a("Zdsn"),a("KHd+")),r=Object(c.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"tables",staticStyle:{width:"100%"},attrs:{data:e.files,border:"","highlight-current-row":"",size:"small",fit:"","expand-row-keys":e.expands,"row-key":e.getRowKeys},on:{"expand-change":e.handleExpandChange,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",[a("step_file_feedback_preview",{attrs:{file:e.row}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"文件名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type_name",label:"类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"add_time",label:"提交时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){a.stopPropagation(),e.handlePreview(t.row)}}},[e._v("预览")])]}}])})],1)],1)},[],!1,null,"40284880",null);r.options.__file="step_feedback_file_table.vue";t.default=r.exports}}]);